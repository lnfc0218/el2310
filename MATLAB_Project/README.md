# Explanations of the structure & How to run the code

## Folders

`./images`:
- stores all the test images provided for this course;
- images renamed for easier programming.

`./data`:
- stores all the parameters in .mat files.

`./results`:
- stores intermediate and final results;
- can be generated by running those demo files(seen below).

## Code

### Demos

`DemoLoop`: 
- provides a direct demostration for the traditional loop method;
- generates result images and stores them in `./results` folder;
- each image can run for hundreds or thousands of seconds.

`DemoMat`:
- Provide a direct demostration for the matrix method;
- generates result images and stores them in `./results` folder;
- each image will only run for seconds or tens of seconds.

### Main function

`MainLoop`: 
- uses the traditional method proposed in the MatlabProject file;
- contains a lot of for loops, therefore can be extremely slow;
- more accurate than the matrix method;
- can handle larger radius range than the matrix method.

`MainMat`:
- uses a fast method proposed in an essay;
- uses multidimensional arrays instead of for loops to speed up;
- runs in seconds, instead of thousands of seconds for for loop ones;

### Sub function

`ReadImage`:
- reads RGB image and turn it into gray for future processing;
- the input can only be path or filename;
- no need to turn the result into double float, since imfilter is compatible to uint8.

`EdgeDetection`: 
- uses Sobel filters to detect edge;
- choose a suitable threshold for both speed and accuracy.

`LoopHT`:
- uses traditional Hough transform and a lot of for loops;
- threshold can be low compared with the matrix method.

`MatHT`:
- uses a fast matrix method to speed up. (See [here](http://basic-eng.blogspot.se/search/label/matlab))

`DetectCircles`:
- uses the detected centers and radii to draw circles on the original RGB image


## Pre-experiment

`PreExperiment_Radius`: 
- uses MATLAB built-in function to detect the radii of all circles in a image, therefore narrow down the range and speed up computation; 
- the range result is saved as .mat file in `.\results`;
- can be good reference for dealing with separate images;
- the function cannot detect anything for the 8th image, though there has to be some pre-processing method for this.
